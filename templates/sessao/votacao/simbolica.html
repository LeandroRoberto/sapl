{% extends "sessao/sessaoplenaria_detail.html" %}
{% load i18n %}

{% block detail_content %}
<form method="post">
	{% csrf_token %}

	<fieldset>
		<legend>Votação Simbólica</legend>
		
		Matéria: {{materia.materia}}
		<br />
		Ementa: {{materia.ementa}} 

		{% if votacao_existente %}

			<ul class="small-block-grid-3 medium-block-grid-3 large-block-grid-3">
				<li>Sim: <input type="text" id="votos_sim" name="votos_sim" value="{{votacao_existente.votos_sim}}"/></li>
				<li>Não: <input type="text" id="votos_nao" name="votos_nao" value="{{votacao_existente.votos_nao}}"/></li>
				<li>Abstenções: <input type="text" id="abstencoes" name="abstencoes" value="{{votacao_existente.abstencoes}}"/></li>
			</ul>

			<ul class="small-block-grid-1 medium-block-grid-1 large-block-grid-1">
				<li>
					Anular Votação
					<select id="anular_votacao" name="anular_votacao">
						<option value="1">Sim</option>
						<option value="0" selected>Não</option>
					</select>
				</li>
			</ul>

			<ul class="small-block-grid-1 medium-block-grid-1 large-block-grid-1">
				<li>
					Resultado da Votação
					<select id="resultado_votacao" name="resultado_votacao">
						{% for tipo in view.get_tipos_votacao %}
							<option value="{{tipo.id}}" {% if tipo == votacao_existente.tipo_resultado %} selected {% endif %}>{{tipo.nome}}</option>
						{% endfor %}
					</select>
				</li>
			</ul>

			<ul class="small-block-grid-1 medium-block-grid-1 large-block-grid-1">
				<li>
					Observações
					<textarea id="observacao" name="observacao" cols="10" rows="10">{{votacao_existente.observacao}}</textarea>
				</li>
			</ul>

		{% else %}

			<ul class="small-block-grid-3 medium-block-grid-3 large-block-grid-3">
				<li>Sim: <input type="text" id="votos_sim" name="votos_sim" value=""/></li>
				<li>Não: <input type="text" id="votos_nao" name="votos_nao" value=""/></li>
				<li>Abstenções: <input type="text" id="abstencoes" name="abstencoes" value=""/></li>
			</ul>

			<ul class="small-block-grid-2 medium-block-grid-2 large-block-grid-2">
				<li>
					Anular Votação
					<select id="anular_votacao" name="anular_votacao">
						<option value="1">Sim</option>
						<option value="0" selected>Não</option>
					</select>
				</li>

				<li>
					A totalização inclui o voto do Presidente?
					<select id="voto_presidente" name="voto_presidente">
						<option value="1">Sim</option>
						<option value="0" selected>Não</option>
					</select>
				</li>
			</ul>

			<ul class="small-block-grid-1 medium-block-grid-1 large-block-grid-1">
				<li>
					Resultado da Votação
					<select id="resultado_votacao" name="resultado_votacao">
						<option value="" selected></option>
						{% for tipo in view.get_tipos_votacao %}
							<option value="{{tipo.id}}">{{tipo.nome}}</option>
						{% endfor %}
					</select>
				</li>
			</ul>

			<ul class="small-block-grid-1 medium-block-grid-1 large-block-grid-1">
				<li>
					Observações
					<textarea id="observacao" name="observacao" cols="10" rows="10"></textarea>
				</li>
			</ul>

		{% endif %}

		<br /><br />
		<input type="submit" value="Salvar" />
	</fieldset>
</form>
{% endblock detail_content %}